(function(){"use strict";var e={666:function(e,t,i){var a=i(5130),n=i(6768);const o={id:"app"};function l(e,t,i,a,l,r){const s=(0,n.g2)("HeaderComponent"),u=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(s),(0,n.bF)(u)])}var r=i(4232);const s={id:"container"},u={class:"header-left"},c={class:"logo"},d={class:"nav-links desktop-nav"},v={class:"header-right"};function g(e,t,i,a,o,l){const g=(0,n.g2)("font-awesome-icon"),p=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("header",{class:(0,r.C4)(["app-header",{scrolled:a.isScrolled}])},[(0,n.Lk)("div",u,[(0,n.Lk)("div",c,[(0,n.bF)(p,{to:"/"},{default:(0,n.k6)((()=>[(0,n.bF)(g,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,n.Lk)("nav",d,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("홈")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/popular"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("대세 콘텐츠")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/wishlist"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("내가 찜한 리스트")]))),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/search"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("찾아보기")]))),_:1})])])])]),(0,n.Lk)("div",v,[(0,n.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>a.removeKey&&a.removeKey(...e))},[(0,n.bF)(g,{icon:["fas","user"]})]),(0,n.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[1]||(t[1]=(...e)=>a.toggleMobileMenu&&a.toggleMobileMenu(...e))},[(0,n.bF)(g,{icon:["fas","bars"]})])])],2),(0,n.Lk)("div",{class:(0,r.C4)(["mobile-nav",{open:a.isMobileMenuOpen}])},[(0,n.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=(...e)=>a.toggleMobileMenu&&a.toggleMobileMenu(...e))},[(0,n.bF)(g,{icon:["fas","times"]})]),(0,n.Lk)("nav",null,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/",onClick:a.toggleMobileMenu},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("홈")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/popular",onClick:a.toggleMobileMenu},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/wishlist",onClick:a.toggleMobileMenu},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,n.Lk)("li",null,[(0,n.bF)(p,{to:"/search",onClick:a.toggleMobileMenu},{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)])}i(4114);var p=i(144),m=i(1387),h=i(292),k=i(2353),f=i(8950);f.Yv.add(k.MjD,k.X46,k.ycA,k.ckx,k.GRI);var w={name:"HeaderComponent",components:{FontAwesomeIcon:h.gc},setup(){const e=(0,p.KR)(!1),t=(0,p.KR)(!1),i=(0,m.rd)(),a=()=>{e.value=window.scrollY>50},o=()=>{localStorage.removeItem("TMDb-Key"),i.push("/sign-in")},l=()=>{t.value=!t.value};return(0,n.sV)((()=>{window.addEventListener("scroll",a)})),(0,n.hi)((()=>{window.removeEventListener("scroll",a)})),{isScrolled:e,isMobileMenuOpen:t,removeKey:o,toggleMobileMenu:l}}},b=i(1241);const y=(0,b.A)(w,[["render",g],["__scopeId","data-v-26cbb121"]]);var L=y,C={name:"App",components:{HeaderComponent:L}};const K=(0,b.A)(C,[["render",l]]);var M=K;const E={class:"home"},I={class:"banner"},R={class:"banner-content"},_={key:0,class:"movie-sliders"},P={class:"movie-row"},S=["src","alt"],X={key:1,class:"movie-sliders"},W={class:"movie-row"},A=["src","alt"],F={key:2,class:"movie-sliders"},O={class:"movie-row"},V=["src","alt"];function T(e,t,i,a,o,l){return(0,n.uX)(),(0,n.CE)("div",E,[(0,n.Lk)("div",I,[(0,n.Lk)("div",R,[(0,n.Lk)("h1",null,(0,r.v_)(a.featuredMovie?.title||"영화 제목"),1),(0,n.Lk)("p",null,(0,r.v_)(a.featuredMovie?.overview||"영화 줄거리가 여기에 표시됩니다."),1),t[0]||(t[0]=(0,n.Lk)("div",{class:"banner-buttons"},[(0,n.Lk)("button",null,"재생"),(0,n.Lk)("button",null,"상세 정보")],-1))]),(0,n.Lk)("div",{class:"banner-image",style:(0,r.Tr)({backgroundImage:a.featuredMovie?.backdrop_path?`url(https://image.tmdb.org/t/p/original${a.featuredMovie.backdrop_path})`:"none"})},null,4)]),a.popularMovies.length?((0,n.uX)(),(0,n.CE)("section",_,[t[1]||(t[1]=(0,n.Lk)("h2",null,"인기 영화",-1)),(0,n.Lk)("div",P,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.popularMovies,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card"},[(0,n.Lk)("img",{src:a.getImageUrl(e.poster_path),alt:e.title},null,8,S),(0,n.Lk)("p",null,(0,r.v_)(e.title),1)])))),128))])])):(0,n.Q3)("",!0),a.newReleases.length?((0,n.uX)(),(0,n.CE)("section",X,[t[2]||(t[2]=(0,n.Lk)("h2",null,"최신 영화",-1)),(0,n.Lk)("div",W,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.newReleases,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card"},[(0,n.Lk)("img",{src:a.getImageUrl(e.poster_path),alt:e.title},null,8,A),(0,n.Lk)("p",null,(0,r.v_)(e.title),1)])))),128))])])):(0,n.Q3)("",!0),a.actionMovies.length?((0,n.uX)(),(0,n.CE)("section",F,[t[3]||(t[3]=(0,n.Lk)("h2",null,"액션 영화",-1)),(0,n.Lk)("div",O,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.actionMovies,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card"},[(0,n.Lk)("img",{src:a.getImageUrl(e.poster_path),alt:e.title},null,8,V),(0,n.Lk)("p",null,(0,r.v_)(e.title),1)])))),128))])])):(0,n.Q3)("",!0)])}var U=i(4373);async function j(e){try{const t=await U.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(t.data.results[0]),t.data.results[0]}catch(t){throw console.error("Error fetching featured movie:",t),t}}function $(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}function x(e,t=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${t}`}function z(e,t,i=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${t}&language=ko-KR&page=${i}`}var q={name:"HomeMain",setup(){const e="b4dd7d0ce31fa1fb024fd2f2e48e4135",t=(0,p.KR)(null),i=(0,p.KR)([]),a=(0,p.KR)([]),o=(0,p.KR)([]),l=async()=>{try{t.value=await j(e);const n=await fetch($(e));i.value=(await n.json()).results;const l=await fetch(x(e));a.value=(await l.json()).results;const r=await fetch(z(e,"28"));o.value=(await r.json()).results}catch(n){console.error("영화를 가져오는 중 오류 발생:",n)}},r=e=>`https://image.tmdb.org/t/p/w300${e||""}`;return(0,n.sV)((()=>{l()})),{featuredMovie:t,popularMovies:i,newReleases:a,actionMovies:o,getImageUrl:r}}};const D=(0,b.A)(q,[["render",T],["__scopeId","data-v-27e5a41e"]]);var H=D;const Q={class:"popular-container"},G={class:"view-toggle"};function J(e,t,i,a,o,l){const s=(0,n.g2)("MovieGrid"),u=(0,n.g2)("MovieInfiniteScroll");return(0,n.uX)(),(0,n.CE)("div",Q,[(0,n.Lk)("div",G,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=e=>a.setView("grid")),class:(0,r.C4)({active:"grid"===a.currentView})},"Grid View",2),(0,n.Lk)("button",{onClick:t[1]||(t[1]=e=>a.setView("list")),class:(0,r.C4)({active:"list"===a.currentView})},"List View",2)]),"grid"===a.currentView?((0,n.uX)(),(0,n.Wv)(s,{key:0,fetchUrl:a.fetchURL,apiKey:a.apiKey},null,8,["fetchUrl","apiKey"])):(0,n.Q3)("",!0),"list"===a.currentView?((0,n.uX)(),(0,n.Wv)(u,{key:1,apiKey:a.apiKey,genreCode:"28"},null,8,["apiKey"])):(0,n.Q3)("",!0)])}const B={class:"movie-grid",ref:"gridContainer"},N=["onMouseup"],Y=["src","alt"],Z={key:1,class:"placeholder"},ee={class:"movie-title"},te={key:2,class:"wishlist-indicator"},ie={key:0,class:"pagination"},ae=["disabled"],ne=["disabled"];function oe(e,t,i,a,o,l){return(0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("div",{class:(0,r.C4)(["grid-container",a.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,r.C4)(["movie-row",{full:e.length===a.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>a.handleToggleWishlist(e)},[e.poster_path?((0,n.uX)(),(0,n.CE)("img",{key:0,src:a.getImageUrl(e.poster_path),alt:e.title},null,8,Y)):((0,n.uX)(),(0,n.CE)("div",Z,"이미지 없음")),(0,n.Lk)("div",ee,(0,r.v_)(e.title),1),a.checkIsInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",te,"👍")):(0,n.Q3)("",!0)],40,N)))),128))],2)))),128))],2),a.totalPages>1?((0,n.uX)(),(0,n.CE)("div",ie,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.prevPage&&a.prevPage(...e)),disabled:1===a.currentPage},"< 이전",8,ae),(0,n.Lk)("span",null,(0,r.v_)(a.currentPage)+" / "+(0,r.v_)(a.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.nextPage&&a.nextPage(...e)),disabled:a.currentPage===a.totalPages},"다음 >",8,ne)])):(0,n.Q3)("",!0)],512)}i(8992),i(8872),i(4520),i(7550);const le=(0,p.KR)([]);function re(){const e=localStorage.getItem("movieWishlist");e&&(le.value=JSON.parse(e))}function se(){localStorage.setItem("movieWishlist",JSON.stringify(le.value))}function ue(e){const t=le.value.findIndex((t=>t.id===e.id));-1===t?le.value.push(e):le.value=le.value.filter((t=>t.id!==e.id)),se()}function ce(e){return le.value.some((t=>t.id===e))}re();var de={name:"MovieGrid",props:{fetchUrl:{type:String,required:!0},apiKey:{type:String,required:!0}},setup(e){const t=(0,p.KR)([]),i=(0,p.KR)(1),a=(0,p.KR)(4),o=(0,p.KR)(20),l=(0,p.KR)("grid"),r=(0,p.KR)(null),s=(0,p.KR)(window.innerWidth<=768),u=async()=>{if(!e.apiKey)return alert("API Key가 설정되지 않았습니다. 설정을 확인해주세요."),void console.error("API Key is not defined.");try{const a=await U.A.get(e.fetchUrl,{params:{api_key:e.apiKey,language:"ko-KR",page:i.value}});t.value=a.data.results}catch(a){console.error("Error fetching movies:",a),alert("영화를 가져오는 중 오류가 발생했습니다. API Key와 URL을 확인하세요.")}},c=e=>`https://image.tmdb.org/t/p/w300${e}`,d=(0,n.EW)((()=>{const e=(i.value-1)*o.value,n=e+o.value,l=t.value.slice(e,n);return l.reduce(((e,t,i)=>{const n=Math.floor(i/a.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[])})),v=(0,n.EW)((()=>Math.ceil(t.value.length/o.value))),g=()=>{i.value<v.value&&(i.value++,u())},m=()=>{i.value>1&&(i.value--,u())},h=e=>ue(e),k=e=>ce(e),f=()=>{s.value=window.innerWidth<=768};return(0,n.sV)((async()=>{await u(),window.addEventListener("resize",f)})),(0,n.hi)((()=>{window.removeEventListener("resize",f)})),{movies:t,currentPage:i,rowSize:a,moviesPerPage:o,currentView:l,gridContainer:r,visibleMovieGroups:d,totalPages:v,nextPage:g,prevPage:m,getImageUrl:c,handleToggleWishlist:h,checkIsInWishlist:k,isMobile:s}}};const ve=(0,b.A)(de,[["render",oe],["__scopeId","data-v-2f7b648d"]]);var ge=ve;const pe={class:"movie-grid",ref:"gridContainer"},me=["onMouseup"],he=["src","alt"],ke={class:"movie-title"},fe={key:0,class:"wishlist-indicator"},we={ref:"loadingTrigger",class:"loading-trigger"},be={key:0,class:"loading-indicator"},ye={key:1,class:"no-movies-message"};function Le(e,t,i,a,o,l){return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",pe,[(0,n.Lk)("div",{class:(0,r.C4)(["grid-container",a.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.visibleMovieGroups,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,r.C4)(["movie-row",{full:e.length===a.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>a.handleToggleWishlist(e)},[(0,n.Lk)("img",{src:a.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,he),(0,n.Lk)("div",ke,(0,r.v_)(e.title),1),a.checkIsInWishlist(e.id)?((0,n.uX)(),(0,n.CE)("div",fe,"👍")):(0,n.Q3)("",!0)],40,me)))),128))],2)))),128))],2),(0,n.Lk)("div",we,[a.isLoading?((0,n.uX)(),(0,n.CE)("div",be,t[1]||(t[1]=[(0,n.Lk)("div",{class:"spinner"},null,-1),(0,n.Lk)("span",null,"로딩 중...",-1)]))):a.hasMore||0!==a.movies.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",ye,t[2]||(t[2]=[(0,n.Lk)("p",null,"해당 조건에 맞는 영화가 없습니다.",-1)])))],512),a.showTopButton?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>a.scrollToTopAndReset&&a.scrollToTopAndReset(...e)),class:"top-button","aria-label":"맨 위로 이동"}," Top ")):(0,n.Q3)("",!0)],512)])}var Ce={name:"MovieInfiniteScroll",props:{genreCode:String,apiKey:String,sortingOrder:{type:String,default:"popularity.desc"},voteAverage:{type:Number,default:-1},language:{type:String,default:"all"}},setup(e){const t=(0,p.KR)([]),i=(0,p.KR)(1),a=(0,p.KR)(4),o=(0,p.KR)(!1),l=(0,p.KR)(window.innerWidth<=768),r=(0,p.KR)("grid"),s=(0,p.KR)(!0),u=(0,p.KR)(!1),c=(0,p.KR)(null),d=(0,p.KR)(null),v=(0,p.KR)(null),g=()=>{v.value=new IntersectionObserver((e=>{e[0].isIntersecting&&!o.value&&s.value&&m()}),{rootMargin:"100px",threshold:.1}),d.value&&v.value.observe(d.value)},m=async()=>{if(!o.value&&s.value){o.value=!0;try{const a={api_key:e.apiKey,language:"all"!==e.language?e.language:"ko-KR",page:i.value,with_genres:"0"!==e.genreCode?e.genreCode:void 0,sort_by:e.sortingOrder,"vote_average.gte":e.voteAverage>0?e.voteAverage:void 0},n=await U.A.get("https://api.themoviedb.org/3/discover/movie",{params:a}),o=n.data.results;o&&0!==o.length?(t.value=[...t.value,...o],i.value++):(1===i.value&&(t.value=[]),s.value=!1)}catch(a){console.error("Error fetching movies:",a)}finally{o.value=!1}}},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/assets/default-movie-poster.jpg",k=(0,n.EW)((()=>t.value.reduce(((e,t,i)=>{const n=Math.floor(i/a.value);return e[n]||(e[n]=[]),e[n].push(t),e}),[])));(0,n.wB)([()=>e.genreCode,()=>e.sortingOrder,()=>e.voteAverage,()=>e.language],(()=>{L()}));const f=()=>{l.value=window.innerWidth<=768,w()},w=()=>{if(c.value){const e=c.value.offsetWidth,t=l.value?100:300,i=l.value?10:15;a.value=Math.floor(e/(t+i))}},b=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},y=()=>{window.scrollTo({top:0,behavior:"smooth"})},L=()=>{t.value=[],i.value=1,s.value=!0,m()},C=e=>{ue(e)},K=e=>ce(e);return(0,n.sV)((()=>{g(),m(),f(),window.addEventListener("resize",f),window.addEventListener("scroll",b)})),(0,n.hi)((()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",b),v.value&&v.value.disconnect()})),{movies:t,currentPage:i,rowSize:a,isLoading:o,isMobile:l,currentView:r,hasMore:s,showTopButton:u,gridContainer:c,loadingTrigger:d,visibleMovieGroups:k,fetchMovies:m,getImageUrl:h,scrollToTopAndReset:y,handleToggleWishlist:C,checkIsInWishlist:K}}};const Ke=(0,b.A)(Ce,[["render",Le],["__scopeId","data-v-d70f7ab8"]]);var Me=Ke,Ee={name:"HomePopular",components:{MovieGrid:ge,MovieInfiniteScroll:Me},setup(){const e=(0,p.KR)("grid"),t="b4dd7d0ce31fa1fb024fd2f2e48e4135",i=$(t),a=t=>{e.value=t};return{currentView:e,setView:a,fetchURL:i,apiKey:t}}};const Ie=(0,b.A)(Ee,[["render",J],["__scopeId","data-v-787f5dc6"]]);var Re=Ie;function _e(e,t,i,a,o,l){const r=(0,n.g2)("MovieWishlist");return(0,n.uX)(),(0,n.Wv)(r)}const Pe={class:"movie-grid",ref:"gridContainer"},Se=["onClick"],Xe=["src","alt"],We={class:"movie-title"},Ae={key:0,class:"empty-wishlist"},Fe={key:1,class:"pagination"},Oe=["disabled"],Ve=["disabled"];function Te(e,t,i,a,o,l){return(0,n.uX)(),(0,n.CE)("div",Pe,[(0,n.Lk)("div",{class:(0,r.C4)(["grid-container",a.currentView])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.visibleWishlistMovies,((e,i)=>((0,n.uX)(),(0,n.CE)("div",{key:i,class:(0,r.C4)(["movie-row",{full:e.length===a.rowSize}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"movie-card",onClick:t=>a.toggleWishlist(e)},[(0,n.Lk)("img",{src:a.getImageUrl(e.poster_path),alt:e.title},null,8,Xe),(0,n.Lk)("div",We,(0,r.v_)(e.title),1),t[2]||(t[2]=(0,n.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,Se)))),128))],2)))),128))],2),0===a.wishlistMovies.length?((0,n.uX)(),(0,n.CE)("div",Ae," 위시리스트가 비어 있습니다. ")):(0,n.Q3)("",!0),a.totalPages>1?((0,n.uX)(),(0,n.CE)("div",Fe,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.prevPage&&a.prevPage(...e)),disabled:1===a.currentPage},"< 이전",8,Oe),(0,n.Lk)("span",null,(0,r.v_)(a.currentPage)+" / "+(0,r.v_)(a.totalPages),1),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>a.nextPage&&a.nextPage(...e)),disabled:a.currentPage===a.totalPages},"다음 >",8,Ve)])):(0,n.Q3)("",!0)],512)}var Ue=i(3606),je={name:"MovieWishlist",setup(){const e=(0,p.KR)(null),t=(0,p.KR)(4),i=(0,p.KR)(20),a=(0,p.KR)(1),o=(0,p.KR)(window.innerWidth<=768),l=(0,p.KR)("grid"),r=(0,p.KR)([]),s=(0,p.KR)([]);let u;const c=()=>{r.value=le.value||[],v()},d=()=>{if(e.value){const a=e.value.offsetWidth,n=window.innerHeight-e.value.offsetTop,l=o.value?90:220,r=o.value?150:330,s=o.value?10:15,u=-10;t.value=Math.floor(a/(l+s));const c=Math.floor(n/(r+u));i.value=t.value*c,v()}},v=()=>{const e=(a.value-1)*i.value,n=e+i.value,o=r.value.slice(e,n);s.value=o.reduce(((e,i,a)=>{const n=Math.floor(a/t.value);return e[n]||(e[n]=[]),e[n].push(i),e}),[])},g=()=>{a.value<w.value&&(a.value++,v())},m=()=>{a.value>1&&(a.value--,v())},h=()=>{o.value=window.innerWidth<=768,d()},k=e=>{le.value.includes(e)?le.value=le.value.filter((t=>t.id!==e.id)):le.value.push(e),c()},f=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",w=(0,p.KR)(0);return(0,n.nT)((()=>{w.value=Math.ceil(r.value.length/i.value)})),(0,n.sV)((()=>{c(),h(),window.addEventListener("resize",h),u=new Ue.A((()=>d())),e.value&&u.observe(e.value)})),(0,n.hi)((()=>{window.removeEventListener("resize",h),e.value&&u.unobserve(e.value),u.disconnect()})),{gridContainer:e,rowSize:t,moviesPerPage:i,currentPage:a,isMobile:o,currentView:l,wishlistMovies:r,visibleWishlistMovies:s,totalPages:w,nextPage:g,prevPage:m,handleResize:h,toggleWishlist:k,getImageUrl:f}}};const $e=(0,b.A)(je,[["render",Te],["__scopeId","data-v-4720f8aa"]]);var xe=$e,ze={name:"HomeWishlistComponent",components:{MovieWishlist:xe}};const qe=(0,b.A)(ze,[["render",_e],["__scopeId","data-v-4cf7d73c"]]);var De=qe;const He={class:"container-search"},Qe={class:"container-search-bar"},Ge={class:"content-search"};function Je(e,t,i,a,o,l){const r=(0,n.g2)("MovieSearch"),s=(0,n.g2)("MovieInfiniteScroll");return(0,n.uX)(),(0,n.CE)("div",He,[(0,n.Lk)("div",Qe,[(0,n.bF)(r,{onChangeOptions:a.changeOptions},null,8,["onChangeOptions"])]),(0,n.Lk)("div",Ge,[(0,n.bF)(s,{apiKey:a.apiKey,genreCode:a.genreId,sortingOrder:a.sortId,voteEverage:a.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const Be={class:"dropdown-container"},Ne=["onClick"],Ye={class:"select-items"},Ze=["onClick"];function et(e,t,i,o,l,s){return(0,n.uX)(),(0,n.CE)("div",Be,[t[1]||(t[1]=(0,n.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.dropdownEntries,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.key,class:"custom-select"},[(0,n.Lk)("div",{class:"select-selected",onClick:t=>o.toggleDropdown(e.key)},(0,r.v_)(o.selectedOptions[e.key]),9,Ne),(0,n.bo)((0,n.Lk)("div",Ye,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.options,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,onClick:i=>o.selectOption(e.key,t)},(0,r.v_)(t),9,Ze)))),128))],512),[[a.aG,o.activeDropdown===e.key]])])))),128)),(0,n.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>o.clearOptions&&o.clearOptions(...e))},"초기화")])}i(1454);var tt={name:"MovieSearch",emits:["changeOptions"],setup(e,{emit:t}){const i={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},a={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},o=(0,p.KR)({...a}),l=(0,p.KR)(null),r=(0,n.EW)((()=>Object.entries(i).map((([e,t])=>({key:e,options:t}))))),s=e=>{l.value=l.value===e?null:e},u=(e,i)=>{o.value={...o.value,[e]:i},l.value=null,t("changeOptions",o.value)},c=()=>{o.value={...a},t("changeOptions",o.value)};return{selectedOptions:o,activeDropdown:l,dropdownEntries:r,toggleDropdown:s,selectOption:u,clearOptions:c}}};const it=(0,b.A)(tt,[["render",et],["__scopeId","data-v-7e770fc9"]]);var at=it,nt={name:"HomeSearch",components:{MovieSearch:at,MovieInfiniteScroll:Me},setup(){const e=(0,p.KR)("b4dd7d0ce31fa1fb024fd2f2e48e4135"),t=(0,p.KR)("28"),i=(0,p.KR)(-1),a=(0,p.KR)("all"),n={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},o={"언어 (전체)":"all","영어":"en","한국어":"ko"},l={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{t.value=`${n[e.originalLanguage]}`,i.value=l[e.translationLanguage],a.value=o[e.sorting]};return{apiKey:e,genreId:t,ageId:i,sortId:a,changeOptions:r}}};const ot=(0,b.A)(nt,[["render",Je],["__scopeId","data-v-92d6f798"]]);var lt=ot;const rt={class:"sign-in"},st={class:"container"},ut={id:"phone"},ct={id:"content-wrapper"},dt=["disabled"],vt={class:"input"},gt={class:"input"},pt={class:"input"},mt=["disabled"];function ht(e,t,i,o,l,s){return(0,n.uX)(),(0,n.CE)("div",rt,[t[22]||(t[22]=(0,n.Lk)("div",{class:"bg-image"},null,-1)),(0,n.Lk)("div",st,[(0,n.Lk)("div",ut,[(0,n.Lk)("div",ct,[(0,n.Lk)("div",{class:(0,r.C4)(["card",{hidden:!o.isLoginVisible}]),id:"login"},[(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>o.handleLogin&&o.handleLogin(...e)),["prevent"]))},[t[15]||(t[15]=(0,n.Lk)("h1",null,"Sign in",-1)),(0,n.Lk)("div",{class:(0,r.C4)(["input",{active:o.isEmailFocused||o.email}])},[(0,n.bo)((0,n.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),onFocus:t[1]||(t[1]=e=>o.focusInput("email")),onBlur:t[2]||(t[2]=e=>o.blurInput("email")),required:""},null,544),[[a.Jo,o.email]]),t[13]||(t[13]=(0,n.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,n.Lk)("div",{class:(0,r.C4)(["input",{active:o.isPasswordFocused||o.password}])},[(0,n.bo)((0,n.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>o.password=e),onFocus:t[4]||(t[4]=e=>o.focusInput("password")),onBlur:t[5]||(t[5]=e=>o.blurInput("password")),required:""},null,544),[[a.Jo,o.password]]),t[14]||(t[14]=(0,n.Lk)("label",{for:"password"},"Password",-1))],2),(0,n.Lk)("button",{disabled:!o.isLoginFormValid},"Login",8,dt)],32),(0,n.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[7]||(t[7]=(...e)=>o.toggleCard&&o.toggleCard(...e))},t[16]||(t[16]=[(0,n.eW)(" Don't have an account? "),(0,n.Lk)("b",null,"Sign up",-1)]))],2),(0,n.Lk)("div",{class:(0,r.C4)(["card",{hidden:o.isLoginVisible}]),id:"register"},[(0,n.Lk)("form",{onSubmit:t[11]||(t[11]=(0,a.D$)(((...e)=>o.handleRegister&&o.handleRegister(...e)),["prevent"]))},[t[20]||(t[20]=(0,n.Lk)("h1",null,"Sign up",-1)),(0,n.Lk)("div",vt,[(0,n.bo)((0,n.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[8]||(t[8]=e=>o.registerEmail=e),required:""},null,512),[[a.Jo,o.registerEmail]]),t[17]||(t[17]=(0,n.Lk)("label",{for:"register-email"},"Email",-1))]),(0,n.Lk)("div",gt,[(0,n.bo)((0,n.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>o.registerPassword=e),required:""},null,512),[[a.Jo,o.registerPassword]]),t[18]||(t[18]=(0,n.Lk)("label",{for:"register-password"},"Password",-1))]),(0,n.Lk)("div",pt,[(0,n.bo)((0,n.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[10]||(t[10]=e=>o.confirmPassword=e),required:""},null,512),[[a.Jo,o.confirmPassword]]),t[19]||(t[19]=(0,n.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))]),(0,n.Lk)("button",{disabled:!o.isRegisterFormValid},"Register",8,mt)],32),(0,n.Lk)("a",{href:"javascript:void(0)",id:"gotologin",class:"account-check",onClick:t[12]||(t[12]=(...e)=>o.toggleCard&&o.toggleCard(...e))},t[21]||(t[21]=[(0,n.eW)(" Already have an account? "),(0,n.Lk)("b",null,"Sign in",-1)]))],2)])])])])}i(2577);const kt={users:JSON.parse(localStorage.getItem("users"))||[],tryLogin(e,t){return new Promise(((i,a)=>{const n=this.users.find((i=>i.email===e&&i.password===t));n?(localStorage.setItem("TMDb-Key",n.apiKey),i({message:"로그인 성공",apiKey:n.apiKey})):a(new Error("아이디 또는 비밀번호가 잘못되었습니다."))}))},tryRegister(e,t){return new Promise(((i,a)=>{if(this.users.some((t=>t.email===e)))a(new Error("이미 존재하는 아이디입니다."));else{const a=`key-${Math.random().toString(36).substr(2,16)}`,n={email:e,password:t,apiKey:a};this.users.push(n),localStorage.setItem("users",JSON.stringify(this.users)),i({message:"회원가입 성공",apiKey:a})}}))}};var ft=kt,wt={name:"SignIn",setup(){const e=(0,m.rd)(),t=(0,p.KR)(!0),i=(0,p.KR)(""),a=(0,p.KR)(""),o=(0,p.KR)(""),l=(0,p.KR)(""),r=(0,p.KR)(""),s=(0,p.KR)(!1),u=(0,p.KR)(!1),c=(0,n.EW)((()=>i.value&&a.value)),d=(0,n.EW)((()=>o.value&&l.value&&r.value&&l.value===r.value)),v=async()=>{try{const t=await ft.tryLogin(i.value,a.value);if(!t||!t.apiKey)throw new Error("API 키가 반환되지 않았습니다.");localStorage.setItem("TMDb-Key",t.apiKey),console.log("로그인 성공, 저장된 API 키:",t.apiKey),alert("로그인 성공!"),e.push("/main")}catch(t){alert("로그인 실패: "+t.message),console.error(t)}},g=async()=>{try{const e=await ft.tryRegister(o.value,l.value);alert(e),t.value=!0}catch(e){alert("회원가입 실패: "+e.message),console.error(e)}},h=()=>{t.value=!t.value},k=e=>{"email"===e&&(s.value=!0),"password"===e&&(u.value=!0)},f=e=>{"email"===e&&(s.value=!1),"password"===e&&(u.value=!1)};return{isLoginVisible:t,email:i,password:a,registerEmail:o,registerPassword:l,confirmPassword:r,isEmailFocused:s,isPasswordFocused:u,isLoginFormValid:c,isRegisterFormValid:d,handleLogin:v,handleRegister:g,toggleCard:h,focusInput:k,blurInput:f}}};const bt=(0,b.A)(wt,[["render",ht],["__scopeId","data-v-4ae6409d"]]);var yt=bt;const Lt=()=>!!localStorage.getItem("TMDb-Key"),Ct=[{path:"/",redirect:"/main"},{path:"/main",name:"HomeMain",component:H,meta:{requiresAuth:!0}},{path:"/popular",name:"HomePopular",component:Re,meta:{requiresAuth:!0}},{path:"/wishlist",name:"HomeWishlist",component:De,meta:{requiresAuth:!0}},{path:"/search",name:"HomeSearch",component:lt,meta:{requiresAuth:!0}},{path:"/sign-in",name:"SignIn",component:yt}],Kt=(0,m.aE)({history:(0,m.LA)(),routes:Ct});Kt.beforeEach(((e,t,i)=>{e.meta.requiresAuth&&!Lt()?i({path:"/sign-in",query:{redirect:e.fullPath}}):i()}));var Mt=Kt,Et=i(7411);i(7917);const It=(0,a.Ef)(M);It.use(Mt),It.use(Et.Ay),It.mount("#app")}},t={};function i(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,a,n,o){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],n=e[c][1],o=e[c][2];for(var r=!0,s=0;s<a.length;s++)(!1&o||l>=o)&&Object.keys(i.O).every((function(e){return i.O[e](a[s])}))?a.splice(s--,1):(r=!1,o<l&&(l=o));if(r){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[a,n,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,l=a[0],r=a[1],s=a[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(s)var c=s(i)}for(t&&t(a);u<l.length;u++)o=l[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},a=self["webpackChunkmy_vue_project"]=self["webpackChunkmy_vue_project"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],(function(){return i(666)}));a=i.O(a)})();
//# sourceMappingURL=app.41842f7e.js.map