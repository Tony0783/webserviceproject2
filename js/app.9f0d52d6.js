(function(){"use strict";var e={2329:function(e,t,i){var o=i(5130),a=i(6768);const n={id:"app"};function l(e,t,i,o,l,r){const s=(0,a.g2)("HeaderComponent"),u=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(s),(0,a.bF)(u)])}var r=i(4232);const s={id:"container"},u={class:"header-left"},c={class:"logo"},d={class:"nav-links desktop-nav"},v={class:"header-right"};function g(e,t,i,o,n,l){const g=(0,a.g2)("font-awesome-icon"),p=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("header",{class:(0,r.C4)(["app-header",{scrolled:o.isScrolled}])},[(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.bF)(p,{to:"/"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,a.Lk)("nav",d,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("홈")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/popular"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("대세 콘텐츠")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/wishlist"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("내가 찜한 리스트")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/search"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("찾아보기")]))),_:1})])])])]),(0,a.Lk)("div",v,[(0,a.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>o.removeKey&&o.removeKey(...e))},[(0,a.bF)(g,{icon:["fas","user"]})]),(0,a.Lk)("button",{class:"icon-button mobile-menu-button",onClick:t[1]||(t[1]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[(0,a.bF)(g,{icon:["fas","bars"]})])])],2),(0,a.Lk)("div",{class:(0,r.C4)(["mobile-nav",{open:o.isMobileMenuOpen}])},[(0,a.Lk)("button",{class:"close-button",onClick:t[2]||(t[2]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[(0,a.bF)(g,{icon:["fas","times"]})]),(0,a.Lk)("nav",null,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("홈")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/popular",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/wishlist",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/search",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)])}i(4114);var p=i(144),h=i(1387),m=i(292),f=i(2353),k=i(8950);k.Yv.add(f.MjD,f.X46,f.ycA,f.ckx,f.GRI);var b={name:"HeaderComponent",components:{FontAwesomeIcon:m.gc},setup(){const e=(0,p.KR)(!1),t=(0,p.KR)(!1),i=(0,h.rd)(),o=()=>{e.value=window.scrollY>50},n=()=>{localStorage.removeItem("TMDb-Key"),i.push("/sign-in")},l=()=>{t.value=!t.value};return(0,a.sV)((()=>{window.addEventListener("scroll",o)})),(0,a.hi)((()=>{window.removeEventListener("scroll",o)})),{isScrolled:e,isMobileMenuOpen:t,removeKey:n,toggleMobileMenu:l}}},w=i(1241);const y=(0,w.A)(b,[["render",g],["__scopeId","data-v-26cbb121"]]);var L=y,C={name:"App",components:{HeaderComponent:L}};const K=(0,w.A)(C,[["render",l]]);var M=K;const E={class:"home"},R={key:0,class:"banner"},I={class:"banner-content"},_={key:1,class:"loading-banner"},W={class:"movie-rows-container"};function P(e,t,i,o,n,l){const s=(0,a.g2)("MovieRow");return(0,a.uX)(),(0,a.CE)("div",E,[o.featuredMovie?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("div",I,[(0,a.Lk)("h1",null,(0,r.v_)(o.featuredMovie?.title||"영화 제목"),1),(0,a.Lk)("p",null,(0,r.v_)(o.featuredMovie?.overview||"영화 줄거리가 여기에 표시됩니다."),1),t[0]||(t[0]=(0,a.Lk)("div",{class:"banner-buttons"},[(0,a.Lk)("button",{class:"play-button"},"재생"),(0,a.Lk)("button",{class:"info-button"},"상세 정보")],-1))]),(0,a.Lk)("div",{class:"banner-image",style:(0,r.Tr)({backgroundImage:o.featuredMovie?.backdrop_path?`url(https://image.tmdb.org/t/p/original${o.featuredMovie.backdrop_path})`:"none"})},null,4)])):((0,a.uX)(),(0,a.CE)("div",_,"로딩 중...")),(0,a.Lk)("div",W,[(0,a.bF)(s,{title:"인기 영화",fetchUrl:o.popularMoviesUrl},null,8,["fetchUrl"]),(0,a.bF)(s,{title:"최신 영화",fetchUrl:o.newReleasesUrl},null,8,["fetchUrl"]),(0,a.bF)(s,{title:"액션 영화",fetchUrl:o.actionMoviesUrl},null,8,["fetchUrl"])])])}const S={class:"movie-row"},X=["disabled"],A={class:"slider-window",ref:"sliderWindow"},T=["onClick"],F=["src","alt"],O={key:0,class:"wishlist-indicator"},U={class:"movie-title"},V=["disabled"],x={key:0,class:"error-message"};function j(e,t,i,o,n,l){return(0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("h2",null,(0,r.v_)(i.title),1),(0,a.Lk)("div",{class:"slider-container",onWheel:t[2]||(t[2]=(...e)=>o.handleWheel&&o.handleWheel(...e)),onTouchstart:t[3]||(t[3]=(...e)=>o.handleTouchStart&&o.handleTouchStart(...e)),onTouchmove:t[4]||(t[4]=(...e)=>o.handleTouchMove&&o.handleTouchMove(...e)),onTouchend:t[5]||(t[5]=(...e)=>o.handleTouchEnd&&o.handleTouchEnd(...e)),onMousemove:t[6]||(t[6]=(...e)=>o.handleMouseMove&&o.handleMouseMove(...e)),onMouseleave:t[7]||(t[7]=(...e)=>o.handleMouseLeave&&o.handleMouseLeave(...e))},[(0,a.Lk)("button",{class:"slider-button left",onClick:t[0]||(t[0]=e=>o.slide("left")),style:(0,r.Tr)({opacity:o.showButtons&&!o.atLeftEdge?1:0}),disabled:o.atLeftEdge}," < ",12,X),(0,a.Lk)("div",A,[(0,a.Lk)("div",{class:"movie-slider",ref:"slider",style:(0,r.Tr)({transform:`translateX(${-o.scrollAmount}px)`})},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.movies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onClick:t=>o.toggleWishlist(e)},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title||"No Image"},null,8,F),o.isInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",O,"👍")):(0,a.Q3)("",!0),(0,a.Lk)("div",U,(0,r.v_)(e.title),1)],8,T)))),128))],4)],512),(0,a.Lk)("button",{class:"slider-button right",onClick:t[1]||(t[1]=e=>o.slide("right")),style:(0,r.Tr)({opacity:o.showButtons&&!o.atRightEdge?1:0}),disabled:o.atRightEdge}," > ",12,V)],32),0===o.movies.length?((0,a.uX)(),(0,a.CE)("p",x,"영화를 불러올 수 없습니다.")):(0,a.Q3)("",!0)])}var q=i(4373);i(8992),i(4520),i(7550);const z=(0,p.KR)([]);function $(){const e=localStorage.getItem("movieWishlist");e&&(z.value=JSON.parse(e))}function D(){localStorage.setItem("movieWishlist",JSON.stringify(z.value))}function H(e){const t=z.value.findIndex((t=>t.id===e.id));-1===t?z.value.push(e):z.value=z.value.filter((t=>t.id!==e.id)),D()}function Q(e){return z.value.some((t=>t.id===e))}$();var G={name:"MovieRow",props:{title:{type:String,required:!0},fetchUrl:{type:String,required:!0}},setup(e){const t=(0,p.KR)([]),i=(0,p.KR)(null),o=(0,p.KR)(null),n=(0,p.KR)(0),l=(0,p.KR)(!1),r=(0,p.KR)(!1),s=(0,p.KR)(0),u=(0,p.KR)(0),c=(0,p.KR)(0),d=async()=>{try{const i=await q.A.get(e.fetchUrl);i.data&&Array.isArray(i.data.results)?t.value=i.data.results:(console.warn("Invalid API response:",i.data),t.value=[])}catch(i){console.error("영화 데이터를 가져오는 중 오류 발생:",i.message||i),t.value=[]}},v=()=>{i.value&&o.value&&(c.value=Math.max(0,i.value.scrollWidth-o.value.clientWidth))},g=(e,t=null)=>{const i=t||.8*o.value.clientWidth;n.value="left"===e?Math.max(0,n.value-i):Math.min(c.value,n.value+i)},h=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",m=()=>l.value=!0,f=()=>l.value=!1,k=e=>{if(r.value)return;r.value=!0;const t=e.deltaY>0?"right":"left";g(t),setTimeout((()=>{r.value=!1}),500)},b=e=>{s.value=e.touches[0].clientX,u.value=e.touches[0].clientX},w=e=>{u.value=e.touches[0].clientX},y=()=>{const e=s.value-u.value,t=50;if(Math.abs(e)>t){const t=e>0?"right":"left";g(t,Math.abs(e))}};return(0,a.sV)((()=>{d(),v(),window.addEventListener("resize",v)})),(0,a.wB)((()=>e.fetchUrl),d),{movies:t,slider:i,sliderWindow:o,scrollAmount:n,maxScroll:c,atLeftEdge:(0,a.EW)((()=>n.value<=0)),atRightEdge:(0,a.EW)((()=>n.value>=c.value)),showButtons:l,getImageUrl:h,slide:g,handleMouseMove:m,handleMouseLeave:f,handleWheel:k,handleTouchStart:b,handleTouchMove:w,handleTouchEnd:y,toggleWishlist:H,isInWishlist:Q}}};const B=(0,w.A)(G,[["render",j],["__scopeId","data-v-d5b3b078"]]);var J=B,N={name:"HomeMain",components:{MovieRow:J},setup(){const e="b4dd7d0ce31fa1fb024fd2f2e48e4135",t=(0,p.KR)(null),i=(0,p.KR)(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`),o=(0,p.KR)(`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR`),n=(0,p.KR)(`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=28&language=ko-KR`),l=async()=>{try{const e=await fetch(i.value),o=await e.json();t.value=o.results[0]}catch(e){console.error("Error fetching featured movie:",e)}},r=()=>{const e=document.querySelector(".app-header");window.scrollY>50?e?.classList.add("scrolled"):e?.classList.remove("scrolled")};return(0,a.sV)((()=>{l(),window.addEventListener("scroll",r)})),(0,a.xo)((()=>{window.removeEventListener("scroll",r)})),{featuredMovie:t,popularMoviesUrl:i,newReleasesUrl:o,actionMoviesUrl:n}}};const Y=(0,w.A)(N,[["render",P],["__scopeId","data-v-58bdc9ce"]]);var Z=Y;const ee={class:"popular-container"},te={class:"view-toggle"};function ie(e,t,i,o,n,l){const s=(0,a.g2)("MovieGrid"),u=(0,a.g2)("MovieInfiniteScroll");return(0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("div",te,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>o.setView("grid")),class:(0,r.C4)({active:"grid"===o.currentView})},"Grid View",2),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>o.setView("list")),class:(0,r.C4)({active:"list"===o.currentView})},"List View",2)]),"grid"===o.currentView?((0,a.uX)(),(0,a.Wv)(s,{key:0,fetchUrl:o.fetchURL,apiKey:o.apiKey},null,8,["fetchUrl","apiKey"])):(0,a.Q3)("",!0),"list"===o.currentView?((0,a.uX)(),(0,a.Wv)(u,{key:1,apiKey:o.apiKey,genreCode:"28"},null,8,["apiKey"])):(0,a.Q3)("",!0)])}const oe={class:"movie-grid",ref:"gridContainer"},ae=["onMouseup"],ne=["src","alt"],le={key:1,class:"placeholder"},re={class:"movie-title"},se={key:2,class:"wishlist-indicator"},ue={key:0,class:"pagination"},ce=["disabled"],de=["disabled"];function ve(e,t,i,o,n,l){return(0,a.uX)(),(0,a.CE)("div",oe,[(0,a.Lk)("div",{class:(0,r.C4)(["grid-container",o.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visibleMovieGroups,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,r.C4)(["movie-row",{full:e.length===o.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>o.handleToggleWishlist(e)},[e.poster_path?((0,a.uX)(),(0,a.CE)("img",{key:0,src:o.getImageUrl(e.poster_path),alt:e.title},null,8,ne)):((0,a.uX)(),(0,a.CE)("div",le,"이미지 없음")),(0,a.Lk)("div",re,(0,r.v_)(e.title),1),o.checkIsInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",se,"👍")):(0,a.Q3)("",!0)],40,ae)))),128))],2)))),128))],2),o.totalPages>1?((0,a.uX)(),(0,a.CE)("div",ue,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===o.currentPage},"< 이전",8,ce),(0,a.Lk)("span",null,(0,r.v_)(o.currentPage)+" / "+(0,r.v_)(o.totalPages),1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.currentPage===o.totalPages},"다음 >",8,de)])):(0,a.Q3)("",!0)],512)}i(8872);var ge={name:"MovieGrid",props:{fetchUrl:{type:String,required:!0},apiKey:{type:String,required:!0}},setup(e){const t=(0,p.KR)([]),i=(0,p.KR)(1),o=(0,p.KR)(4),n=(0,p.KR)(20),l=(0,p.KR)("grid"),r=(0,p.KR)(null),s=(0,p.KR)(window.innerWidth<=768),u=async()=>{if(!e.apiKey)return alert("API Key가 설정되지 않았습니다. 설정을 확인해주세요."),void console.error("API Key is not defined.");try{const o=await q.A.get(e.fetchUrl,{params:{api_key:e.apiKey,language:"ko-KR",page:i.value}});t.value=o.data.results}catch(o){console.error("Error fetching movies:",o),alert("영화를 가져오는 중 오류가 발생했습니다. API Key와 URL을 확인하세요.")}},c=e=>`https://image.tmdb.org/t/p/w300${e}`,d=(0,a.EW)((()=>{const e=(i.value-1)*n.value,a=e+n.value,l=t.value.slice(e,a);return l.reduce(((e,t,i)=>{const a=Math.floor(i/o.value);return e[a]||(e[a]=[]),e[a].push(t),e}),[])})),v=(0,a.EW)((()=>Math.ceil(t.value.length/n.value))),g=()=>{i.value<v.value&&(i.value++,u())},h=()=>{i.value>1&&(i.value--,u())},m=e=>H(e),f=e=>Q(e),k=()=>{s.value=window.innerWidth<=768};return(0,a.sV)((async()=>{await u(),window.addEventListener("resize",k)})),(0,a.hi)((()=>{window.removeEventListener("resize",k)})),{movies:t,currentPage:i,rowSize:o,moviesPerPage:n,currentView:l,gridContainer:r,visibleMovieGroups:d,totalPages:v,nextPage:g,prevPage:h,getImageUrl:c,handleToggleWishlist:m,checkIsInWishlist:f,isMobile:s}}};const pe=(0,w.A)(ge,[["render",ve],["__scopeId","data-v-2f7b648d"]]);var he=pe;const me={class:"movie-grid",ref:"gridContainer"},fe=["onMouseup"],ke=["src","alt"],be={class:"movie-title"},we={key:0,class:"wishlist-indicator"},ye={ref:"loadingTrigger",class:"loading-trigger"},Le={key:0,class:"loading-indicator"},Ce={key:1,class:"no-movies-message"};function Ke(e,t,i,o,n,l){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",me,[(0,a.Lk)("div",{class:(0,r.C4)(["grid-container",o.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visibleMovieGroups,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,r.C4)(["movie-row",{full:e.length===o.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onMouseup:t=>o.handleToggleWishlist(e)},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,ke),(0,a.Lk)("div",be,(0,r.v_)(e.title),1),o.checkIsInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",we,"👍")):(0,a.Q3)("",!0)],40,fe)))),128))],2)))),128))],2),(0,a.Lk)("div",ye,[o.isLoading?((0,a.uX)(),(0,a.CE)("div",Le,t[1]||(t[1]=[(0,a.Lk)("div",{class:"spinner"},null,-1),(0,a.Lk)("span",null,"로딩 중...",-1)]))):o.hasMore||0!==o.movies.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Ce,t[2]||(t[2]=[(0,a.Lk)("p",null,"해당 조건에 맞는 영화가 없습니다.",-1)])))],512),o.showTopButton?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>o.scrollToTopAndReset&&o.scrollToTopAndReset(...e)),class:"top-button","aria-label":"맨 위로 이동"}," Top ")):(0,a.Q3)("",!0)],512)])}var Me={name:"MovieInfiniteScroll",props:{genreCode:String,apiKey:String,sortingOrder:{type:String,default:"popularity.desc"},voteAverage:{type:Number,default:-1},language:{type:String,default:"all"}},setup(e){const t=(0,p.KR)([]),i=(0,p.KR)(1),o=(0,p.KR)(4),n=(0,p.KR)(!1),l=(0,p.KR)(window.innerWidth<=768),r=(0,p.KR)("grid"),s=(0,p.KR)(!0),u=(0,p.KR)(!1),c=(0,p.KR)(null),d=(0,p.KR)(null),v=(0,p.KR)(null),g=()=>{v.value=new IntersectionObserver((e=>{e[0].isIntersecting&&!n.value&&s.value&&h()}),{rootMargin:"100px",threshold:.1}),d.value&&v.value.observe(d.value)},h=async()=>{if(!n.value&&s.value){n.value=!0;try{const o={api_key:e.apiKey,language:"all"!==e.language?e.language:"ko-KR",page:i.value,with_genres:"0"!==e.genreCode?e.genreCode:void 0,sort_by:e.sortingOrder,"vote_average.gte":e.voteAverage>0?e.voteAverage:void 0},a=await q.A.get("https://api.themoviedb.org/3/discover/movie",{params:o}),n=a.data.results;n&&0!==n.length?(t.value=[...t.value,...n],i.value++):(1===i.value&&(t.value=[]),s.value=!1)}catch(o){console.error("Error fetching movies:",o)}finally{n.value=!1}}},m=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/assets/default-movie-poster.jpg",f=(0,a.EW)((()=>t.value.reduce(((e,t,i)=>{const a=Math.floor(i/o.value);return e[a]||(e[a]=[]),e[a].push(t),e}),[])));(0,a.wB)([()=>e.genreCode,()=>e.sortingOrder,()=>e.voteAverage,()=>e.language],(()=>{L()}));const k=()=>{l.value=window.innerWidth<=768,b()},b=()=>{if(c.value){const e=c.value.offsetWidth,t=l.value?100:300,i=l.value?10:15;o.value=Math.floor(e/(t+i))}},w=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},y=()=>{window.scrollTo({top:0,behavior:"smooth"})},L=()=>{t.value=[],i.value=1,s.value=!0,h()},C=e=>{H(e)},K=e=>Q(e);return(0,a.sV)((()=>{g(),h(),k(),window.addEventListener("resize",k),window.addEventListener("scroll",w)})),(0,a.hi)((()=>{window.removeEventListener("resize",k),window.removeEventListener("scroll",w),v.value&&v.value.disconnect()})),{movies:t,currentPage:i,rowSize:o,isLoading:n,isMobile:l,currentView:r,hasMore:s,showTopButton:u,gridContainer:c,loadingTrigger:d,visibleMovieGroups:f,fetchMovies:h,getImageUrl:m,scrollToTopAndReset:y,handleToggleWishlist:C,checkIsInWishlist:K}}};const Ee=(0,w.A)(Me,[["render",Ke],["__scopeId","data-v-d70f7ab8"]]);var Re=Ee;function Ie(e,t=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${t}`}var _e={name:"HomePopular",components:{MovieGrid:he,MovieInfiniteScroll:Re},setup(){const e=(0,p.KR)("grid"),t="b4dd7d0ce31fa1fb024fd2f2e48e4135",i=Ie(t),o=t=>{e.value=t};return{currentView:e,setView:o,fetchURL:i,apiKey:t}}};const We=(0,w.A)(_e,[["render",ie],["__scopeId","data-v-787f5dc6"]]);var Pe=We;function Se(e,t,i,o,n,l){const r=(0,a.g2)("MovieWishlist");return(0,a.uX)(),(0,a.Wv)(r)}const Xe={class:"movie-grid",ref:"gridContainer"},Ae=["onClick"],Te=["src","alt"],Fe={class:"movie-title"},Oe={key:0,class:"empty-wishlist"},Ue={key:1,class:"pagination"},Ve=["disabled"],xe=["disabled"];function je(e,t,i,o,n,l){return(0,a.uX)(),(0,a.CE)("div",Xe,[(0,a.Lk)("div",{class:(0,r.C4)(["grid-container",o.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visibleWishlistMovies,((e,i)=>((0,a.uX)(),(0,a.CE)("div",{key:i,class:(0,r.C4)(["movie-row",{full:e.length===o.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onClick:t=>o.toggleWishlist(e)},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title},null,8,Te),(0,a.Lk)("div",Fe,(0,r.v_)(e.title),1),t[2]||(t[2]=(0,a.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,Ae)))),128))],2)))),128))],2),0===o.wishlistMovies.length?((0,a.uX)(),(0,a.CE)("div",Oe," 위시리스트가 비어 있습니다. ")):(0,a.Q3)("",!0),o.totalPages>1?((0,a.uX)(),(0,a.CE)("div",Ue,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===o.currentPage},"< 이전",8,Ve),(0,a.Lk)("span",null,(0,r.v_)(o.currentPage)+" / "+(0,r.v_)(o.totalPages),1),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.currentPage===o.totalPages},"다음 >",8,xe)])):(0,a.Q3)("",!0)],512)}var qe=i(3606),ze={name:"MovieWishlist",setup(){const e=(0,p.KR)(null),t=(0,p.KR)(4),i=(0,p.KR)(20),o=(0,p.KR)(1),n=(0,p.KR)(window.innerWidth<=768),l=(0,p.KR)("grid"),r=(0,p.KR)([]),s=(0,p.KR)([]);let u;const c=()=>{r.value=z.value||[],v()},d=()=>{if(e.value){const o=e.value.offsetWidth,a=window.innerHeight-e.value.offsetTop,l=n.value?90:220,r=n.value?150:330,s=n.value?10:15,u=-10;t.value=Math.floor(o/(l+s));const c=Math.floor(a/(r+u));i.value=t.value*c,v()}},v=()=>{const e=(o.value-1)*i.value,a=e+i.value,n=r.value.slice(e,a);s.value=n.reduce(((e,i,o)=>{const a=Math.floor(o/t.value);return e[a]||(e[a]=[]),e[a].push(i),e}),[])},g=()=>{o.value<b.value&&(o.value++,v())},h=()=>{o.value>1&&(o.value--,v())},m=()=>{n.value=window.innerWidth<=768,d()},f=e=>{z.value.includes(e)?z.value=z.value.filter((t=>t.id!==e.id)):z.value.push(e),c()},k=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",b=(0,p.KR)(0);return(0,a.nT)((()=>{b.value=Math.ceil(r.value.length/i.value)})),(0,a.sV)((()=>{c(),m(),window.addEventListener("resize",m),u=new qe.A((()=>d())),e.value&&u.observe(e.value)})),(0,a.hi)((()=>{window.removeEventListener("resize",m),e.value&&u.unobserve(e.value),u.disconnect()})),{gridContainer:e,rowSize:t,moviesPerPage:i,currentPage:o,isMobile:n,currentView:l,wishlistMovies:r,visibleWishlistMovies:s,totalPages:b,nextPage:g,prevPage:h,handleResize:m,toggleWishlist:f,getImageUrl:k}}};const $e=(0,w.A)(ze,[["render",je],["__scopeId","data-v-4720f8aa"]]);var De=$e,He={name:"HomeWishlistComponent",components:{MovieWishlist:De}};const Qe=(0,w.A)(He,[["render",Se],["__scopeId","data-v-4cf7d73c"]]);var Ge=Qe;const Be={class:"container-search"},Je={class:"container-search-bar"},Ne={class:"content-search"};function Ye(e,t,i,o,n,l){const r=(0,a.g2)("MovieSearch"),s=(0,a.g2)("MovieInfiniteScroll");return(0,a.uX)(),(0,a.CE)("div",Be,[(0,a.Lk)("div",Je,[(0,a.bF)(r,{onChangeOptions:o.changeOptions},null,8,["onChangeOptions"])]),(0,a.Lk)("div",Ne,[(0,a.bF)(s,{apiKey:o.apiKey,genreCode:o.genreId,sortingOrder:o.sortId,voteEverage:o.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const Ze={class:"dropdown-container"},et=["onClick"],tt={class:"select-items"},it=["onClick"];function ot(e,t,i,n,l,s){return(0,a.uX)(),(0,a.CE)("div",Ze,[t[1]||(t[1]=(0,a.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.dropdownEntries,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.key,class:"custom-select"},[(0,a.Lk)("div",{class:"select-selected",onClick:t=>n.toggleDropdown(e.key)},(0,r.v_)(n.selectedOptions[e.key]),9,et),(0,a.bo)((0,a.Lk)("div",tt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.options,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t,onClick:i=>n.selectOption(e.key,t)},(0,r.v_)(t),9,it)))),128))],512),[[o.aG,n.activeDropdown===e.key]])])))),128)),(0,a.Lk)("button",{class:"clear-options",onClick:t[0]||(t[0]=(...e)=>n.clearOptions&&n.clearOptions(...e))},"초기화")])}i(1454);var at={name:"MovieSearch",emits:["changeOptions"],setup(e,{emit:t}){const i={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},o={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},n=(0,p.KR)({...o}),l=(0,p.KR)(null),r=(0,a.EW)((()=>Object.entries(i).map((([e,t])=>({key:e,options:t}))))),s=e=>{l.value=l.value===e?null:e},u=(e,i)=>{n.value={...n.value,[e]:i},l.value=null,t("changeOptions",n.value)},c=()=>{n.value={...o},t("changeOptions",n.value)};return{selectedOptions:n,activeDropdown:l,dropdownEntries:r,toggleDropdown:s,selectOption:u,clearOptions:c}}};const nt=(0,w.A)(at,[["render",ot],["__scopeId","data-v-7e770fc9"]]);var lt=nt,rt={name:"HomeSearch",components:{MovieSearch:lt,MovieInfiniteScroll:Re},setup(){const e=(0,p.KR)("b4dd7d0ce31fa1fb024fd2f2e48e4135"),t=(0,p.KR)("28"),i=(0,p.KR)(-1),o=(0,p.KR)("all"),a={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},n={"언어 (전체)":"all","영어":"en","한국어":"ko"},l={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{t.value=`${a[e.originalLanguage]}`,i.value=l[e.translationLanguage],o.value=n[e.sorting]};return{apiKey:e,genreId:t,ageId:i,sortId:o,changeOptions:r}}};const st=(0,w.A)(rt,[["render",Ye],["__scopeId","data-v-92d6f798"]]);var ut=st;const ct={class:"sign-in"},dt={class:"container"},vt={id:"phone"},gt={id:"content-wrapper"},pt=["disabled"],ht={class:"input"},mt={class:"input"},ft={class:"input"},kt=["disabled"];function bt(e,t,i,n,l,s){return(0,a.uX)(),(0,a.CE)("div",ct,[t[22]||(t[22]=(0,a.Lk)("div",{class:"bg-image"},null,-1)),(0,a.Lk)("div",dt,[(0,a.Lk)("div",vt,[(0,a.Lk)("div",gt,[(0,a.Lk)("div",{class:(0,r.C4)(["card",{hidden:!n.isLoginVisible}]),id:"login"},[(0,a.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[t[15]||(t[15]=(0,a.Lk)("h1",null,"Sign in",-1)),(0,a.Lk)("div",{class:(0,r.C4)(["input",{active:n.isEmailFocused||n.email}])},[(0,a.bo)((0,a.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),onFocus:t[1]||(t[1]=e=>n.focusInput("email")),onBlur:t[2]||(t[2]=e=>n.blurInput("email")),required:""},null,544),[[o.Jo,n.email]]),t[13]||(t[13]=(0,a.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,a.Lk)("div",{class:(0,r.C4)(["input",{active:n.isPasswordFocused||n.password}])},[(0,a.bo)((0,a.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>n.password=e),onFocus:t[4]||(t[4]=e=>n.focusInput("password")),onBlur:t[5]||(t[5]=e=>n.blurInput("password")),required:""},null,544),[[o.Jo,n.password]]),t[14]||(t[14]=(0,a.Lk)("label",{for:"password"},"Password",-1))],2),(0,a.Lk)("button",{disabled:!n.isLoginFormValid},"Login",8,pt)],32),(0,a.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:t[7]||(t[7]=(...e)=>n.toggleCard&&n.toggleCard(...e))},t[16]||(t[16]=[(0,a.eW)(" Don't have an account? "),(0,a.Lk)("b",null,"Sign up",-1)]))],2),(0,a.Lk)("div",{class:(0,r.C4)(["card",{hidden:n.isLoginVisible}]),id:"register"},[(0,a.Lk)("form",{onSubmit:t[11]||(t[11]=(0,o.D$)(((...e)=>n.handleRegister&&n.handleRegister(...e)),["prevent"]))},[t[20]||(t[20]=(0,a.Lk)("h1",null,"Sign up",-1)),(0,a.Lk)("div",ht,[(0,a.bo)((0,a.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":t[8]||(t[8]=e=>n.registerEmail=e),required:""},null,512),[[o.Jo,n.registerEmail]]),t[17]||(t[17]=(0,a.Lk)("label",{for:"register-email"},"Email",-1))]),(0,a.Lk)("div",mt,[(0,a.bo)((0,a.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":t[9]||(t[9]=e=>n.registerPassword=e),required:""},null,512),[[o.Jo,n.registerPassword]]),t[18]||(t[18]=(0,a.Lk)("label",{for:"register-password"},"Password",-1))]),(0,a.Lk)("div",ft,[(0,a.bo)((0,a.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":t[10]||(t[10]=e=>n.confirmPassword=e),required:""},null,512),[[o.Jo,n.confirmPassword]]),t[19]||(t[19]=(0,a.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))]),(0,a.Lk)("button",{disabled:!n.isRegisterFormValid},"Register",8,kt)],32),(0,a.Lk)("a",{href:"javascript:void(0)",id:"gotologin",class:"account-check",onClick:t[12]||(t[12]=(...e)=>n.toggleCard&&n.toggleCard(...e))},t[21]||(t[21]=[(0,a.eW)(" Already have an account? "),(0,a.Lk)("b",null,"Sign in",-1)]))],2)])])])])}i(2577);const wt={users:JSON.parse(localStorage.getItem("users"))||[],tryLogin(e,t){return new Promise(((i,o)=>{const a=this.users.find((i=>i.email===e&&i.password===t));a?(localStorage.setItem("TMDb-Key",a.apiKey),i({message:"로그인 성공",apiKey:a.apiKey})):o(new Error("아이디 또는 비밀번호가 잘못되었습니다."))}))},tryRegister(e,t){return new Promise(((i,o)=>{if(this.users.some((t=>t.email===e)))o(new Error("이미 존재하는 아이디입니다."));else{const o=`key-${Math.random().toString(36).substr(2,16)}`,a={email:e,password:t,apiKey:o};this.users.push(a),localStorage.setItem("users",JSON.stringify(this.users)),i({message:"회원가입 성공",apiKey:o})}}))}};var yt=wt,Lt={name:"SignIn",setup(){const e=(0,h.rd)(),t=(0,p.KR)(!0),i=(0,p.KR)(""),o=(0,p.KR)(""),n=(0,p.KR)(""),l=(0,p.KR)(""),r=(0,p.KR)(""),s=(0,p.KR)(!1),u=(0,p.KR)(!1),c=(0,a.EW)((()=>i.value&&o.value)),d=(0,a.EW)((()=>n.value&&l.value&&r.value&&l.value===r.value)),v=async()=>{try{const t=await yt.tryLogin(i.value,o.value);if(!t||!t.apiKey)throw new Error("API 키가 반환되지 않았습니다.");localStorage.setItem("TMDb-Key",t.apiKey),console.log("로그인 성공, 저장된 API 키:",t.apiKey),alert("로그인 성공!"),e.push("/main")}catch(t){alert("로그인 실패: "+t.message),console.error(t)}},g=async()=>{try{const e=await yt.tryRegister(n.value,l.value);alert(e),t.value=!0}catch(e){alert("회원가입 실패: "+e.message),console.error(e)}},m=()=>{t.value=!t.value},f=e=>{"email"===e&&(s.value=!0),"password"===e&&(u.value=!0)},k=e=>{"email"===e&&(s.value=!1),"password"===e&&(u.value=!1)};return{isLoginVisible:t,email:i,password:o,registerEmail:n,registerPassword:l,confirmPassword:r,isEmailFocused:s,isPasswordFocused:u,isLoginFormValid:c,isRegisterFormValid:d,handleLogin:v,handleRegister:g,toggleCard:m,focusInput:f,blurInput:k}}};const Ct=(0,w.A)(Lt,[["render",bt],["__scopeId","data-v-4ae6409d"]]);var Kt=Ct;const Mt=()=>!!localStorage.getItem("TMDb-Key"),Et=[{path:"/",redirect:"/main"},{path:"/main",name:"HomeMain",component:Z,meta:{requiresAuth:!0}},{path:"/popular",name:"HomePopular",component:Pe,meta:{requiresAuth:!0}},{path:"/wishlist",name:"HomeWishlist",component:Ge,meta:{requiresAuth:!0}},{path:"/search",name:"HomeSearch",component:ut,meta:{requiresAuth:!0}},{path:"/sign-in",name:"SignIn",component:Kt}],Rt=(0,h.aE)({history:(0,h.LA)(),routes:Et});Rt.beforeEach(((e,t,i)=>{e.meta.requiresAuth&&!Mt()?i({path:"/sign-in",query:{redirect:e.fullPath}}):i()}));var It=Rt,_t=i(7411);i(7917);const Wt=(0,o.Ef)(M);Wt.use(It),Wt.use(_t.Ay),Wt.mount("#app")}},t={};function i(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}i.m=e,function(){var e=[];i.O=function(t,o,a,n){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],n=e[c][2];for(var r=!0,s=0;s<o.length;s++)(!1&n||l>=n)&&Object.keys(i.O).every((function(e){return i.O[e](o[s])}))?o.splice(s--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,a,n]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,n,l=o[0],r=o[1],s=o[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(s)var c=s(i)}for(t&&t(o);u<l.length;u++)n=l[u],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(c)},o=self["webpackChunkmy_vue_project"]=self["webpackChunkmy_vue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[504],(function(){return i(2329)}));o=i.O(o)})();
//# sourceMappingURL=app.9f0d52d6.js.map