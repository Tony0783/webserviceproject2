(function(){"use strict";var e={8392:function(e,i,t){var o=t(5130),a=t(6768);const n={id:"app"};function l(e,i,t,o,l,r){const s=(0,a.g2)("HeaderComponent"),u=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(s),(0,a.bF)(u)])}var r=t(4232);const s={id:"container"},u={class:"header-left"},c={class:"logo"},d={class:"nav-links desktop-nav"},v={class:"header-right"};function g(e,i,t,o,n,l){const g=(0,a.g2)("font-awesome-icon"),p=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("header",{class:(0,r.C4)(["app-header",{scrolled:o.isScrolled}])},[(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.bF)(p,{to:"/"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{icon:["fas","ticket"],style:{height:"100%",color:"#E50914"}})])),_:1})]),(0,a.Lk)("nav",d,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/"},{default:(0,a.k6)((()=>i[3]||(i[3]=[(0,a.eW)("홈")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/popular"},{default:(0,a.k6)((()=>i[4]||(i[4]=[(0,a.eW)("대세 콘텐츠")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/wishlist"},{default:(0,a.k6)((()=>i[5]||(i[5]=[(0,a.eW)("내가 찜한 리스트")]))),_:1})]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/search"},{default:(0,a.k6)((()=>i[6]||(i[6]=[(0,a.eW)("찾아보기")]))),_:1})])])])]),(0,a.Lk)("div",v,[(0,a.Lk)("button",{class:"icon-button",onClick:i[0]||(i[0]=(...e)=>o.removeKey&&o.removeKey(...e))},[(0,a.bF)(g,{icon:["fas","user"]})]),(0,a.Lk)("button",{class:"icon-button mobile-menu-button",onClick:i[1]||(i[1]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[(0,a.bF)(g,{icon:["fas","bars"]})])])],2),(0,a.Lk)("div",{class:(0,r.C4)(["mobile-nav",{open:o.isMobileMenuOpen}])},[(0,a.Lk)("button",{class:"close-button",onClick:i[2]||(i[2]=(...e)=>o.toggleMobileMenu&&o.toggleMobileMenu(...e))},[(0,a.bF)(g,{icon:["fas","times"]})]),(0,a.Lk)("nav",null,[(0,a.Lk)("ul",null,[(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>i[7]||(i[7]=[(0,a.eW)("홈")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/popular",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>i[8]||(i[8]=[(0,a.eW)("대세 콘텐츠")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/wishlist",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>i[9]||(i[9]=[(0,a.eW)("내가 찜한 리스트")]))),_:1},8,["onClick"])]),(0,a.Lk)("li",null,[(0,a.bF)(p,{to:"/search",onClick:o.toggleMobileMenu},{default:(0,a.k6)((()=>i[10]||(i[10]=[(0,a.eW)("찾아보기")]))),_:1},8,["onClick"])])])])],2)])}t(4114);var p=t(144),m=t(1387),k=t(292),h=t(2353),f=t(8950);f.Yv.add(h.MjD,h.X46,h.ycA,h.ckx,h.GRI);var w={name:"HeaderComponent",components:{FontAwesomeIcon:k.gc},setup(){const e=(0,p.KR)(!1),i=(0,p.KR)(!1),t=(0,m.rd)(),o=()=>{e.value=window.scrollY>50},n=()=>{localStorage.removeItem("TMDb-Key"),t.push("/sign-in")},l=()=>{i.value=!i.value};return(0,a.sV)((()=>{window.addEventListener("scroll",o)})),(0,a.hi)((()=>{window.removeEventListener("scroll",o)})),{isScrolled:e,isMobileMenuOpen:i,removeKey:n,toggleMobileMenu:l}}},b=t(1241);const L=(0,b.A)(w,[["render",g],["__scopeId","data-v-26cbb121"]]);var y=L,C={name:"App",components:{HeaderComponent:y}};const K=(0,b.A)(C,[["render",l]]);var M=K;const E={class:"home"},I={class:"banner"},R={class:"banner-content"},_={key:0,class:"movie-sliders"},P={class:"movie-row"},S=["src","alt"],X=["onClick"],W={key:1,class:"movie-sliders"},O={class:"movie-row"},A=["src","alt"],F=["onClick"],V={key:2,class:"movie-sliders"},T={class:"movie-row"},U=["src","alt"],j=["onClick"];function $(e,i,t,o,n,l){return(0,a.uX)(),(0,a.CE)("div",E,[(0,a.Lk)("div",I,[(0,a.Lk)("div",R,[(0,a.Lk)("h1",null,(0,r.v_)(o.featuredMovie?.title||"영화 제목"),1),(0,a.Lk)("p",null,(0,r.v_)(o.featuredMovie?.overview||"영화 줄거리가 여기에 표시됩니다."),1),i[0]||(i[0]=(0,a.Lk)("div",{class:"banner-buttons"},[(0,a.Lk)("button",null,"재생"),(0,a.Lk)("button",null,"상세 정보")],-1))]),(0,a.Lk)("div",{class:"banner-image",style:(0,r.Tr)({backgroundImage:o.featuredMovie?.backdrop_path?`url(https://image.tmdb.org/t/p/original${o.featuredMovie.backdrop_path})`:"none"})},null,4)]),o.popularMovies.length?((0,a.uX)(),(0,a.CE)("section",_,[i[1]||(i[1]=(0,a.Lk)("h2",null,"인기 영화",-1)),(0,a.Lk)("div",P,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.popularMovies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card"},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title},null,8,S),(0,a.Lk)("p",null,(0,r.v_)(e.title),1),(0,a.Lk)("button",{onClick:i=>o.toggleLike(e.id)},(0,r.v_)(o.isLiked(e.id)?"좋아요 취소":"좋아요"),9,X)])))),128))])])):(0,a.Q3)("",!0),o.newReleases.length?((0,a.uX)(),(0,a.CE)("section",W,[i[2]||(i[2]=(0,a.Lk)("h2",null,"최신 영화",-1)),(0,a.Lk)("div",O,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.newReleases,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card"},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title},null,8,A),(0,a.Lk)("p",null,(0,r.v_)(e.title),1),(0,a.Lk)("button",{onClick:i=>o.toggleLike(e.id)},(0,r.v_)(o.isLiked(e.id)?"좋아요 취소":"좋아요"),9,F)])))),128))])])):(0,a.Q3)("",!0),o.actionMovies.length?((0,a.uX)(),(0,a.CE)("section",V,[i[3]||(i[3]=(0,a.Lk)("h2",null,"액션 영화",-1)),(0,a.Lk)("div",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.actionMovies,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card"},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title},null,8,U),(0,a.Lk)("p",null,(0,r.v_)(e.title),1),(0,a.Lk)("button",{onClick:i=>o.toggleLike(e.id)},(0,r.v_)(o.isLiked(e.id)?"좋아요 취소":"좋아요"),9,j)])))),128))])])):(0,a.Q3)("",!0)])}t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698);var x=t(4373);async function z(e){try{const i=await x.A.get(`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR`);return console.log(i.data.results[0]),i.data.results[0]}catch(i){throw console.error("Error fetching featured movie:",i),i}}function q(e,i=1){return`https://api.themoviedb.org/3/movie/popular?api_key=${e}&language=ko-KR&page=${i}`}function D(e,i=2){return`https://api.themoviedb.org/3/movie/now_playing?api_key=${e}&language=ko-KR&page=${i}`}function H(e,i,t=1){return`https://api.themoviedb.org/3/discover/movie?api_key=${e}&with_genres=${i}&language=ko-KR&page=${t}`}var Q={name:"HomeMain",setup(){const e="b4dd7d0ce31fa1fb024fd2f2e48e4135",i=(0,p.KR)(null),t=(0,p.KR)([]),o=(0,p.KR)([]),n=(0,p.KR)([]),l=(0,p.KR)(new Set(JSON.parse(localStorage.getItem("likedMovies")||"[]"))),r=async()=>{try{i.value=await z(e);const a=await fetch(q(e));t.value=(await a.json()).results;const l=await fetch(D(e));o.value=(await l.json()).results;const r=await fetch(H(e,"28"));n.value=(await r.json()).results}catch(a){console.error("영화를 가져오는 중 오류 발생:",a)}},s=e=>`https://image.tmdb.org/t/p/w300${e||""}`,u=e=>{l.value.has(e)?l.value.delete(e):l.value.add(e),localStorage.setItem("likedMovies",JSON.stringify([...l.value]))},c=e=>l.value.has(e);return(0,a.sV)((()=>{r()})),{featuredMovie:i,popularMovies:t,newReleases:o,actionMovies:n,getImageUrl:s,toggleLike:u,isLiked:c}}};const J=(0,b.A)(Q,[["render",$],["__scopeId","data-v-223f6b94"]]);var G=J;const N={class:"popular-container"},B={class:"view-toggle"};function Y(e,i,t,o,n,l){const s=(0,a.g2)("MovieGrid"),u=(0,a.g2)("MovieInfiniteScroll");return(0,a.uX)(),(0,a.CE)("div",N,[(0,a.Lk)("div",B,[(0,a.Lk)("button",{onClick:i[0]||(i[0]=e=>o.setView("grid")),class:(0,r.C4)({active:"grid"===o.currentView})},"Grid View",2),(0,a.Lk)("button",{onClick:i[1]||(i[1]=e=>o.setView("list")),class:(0,r.C4)({active:"list"===o.currentView})},"List View",2)]),"grid"===o.currentView?((0,a.uX)(),(0,a.Wv)(s,{key:0,fetchUrl:o.fetchURL,apiKey:o.apiKey},null,8,["fetchUrl","apiKey"])):(0,a.Q3)("",!0),"list"===o.currentView?((0,a.uX)(),(0,a.Wv)(u,{key:1,apiKey:o.apiKey,genreCode:"28"},null,8,["apiKey"])):(0,a.Q3)("",!0)])}const Z={class:"movie-grid",ref:"gridContainer"},ee=["onMouseup"],ie=["src","alt"],te={key:1,class:"placeholder"},oe={class:"movie-title"},ae={key:2,class:"wishlist-indicator"},ne={key:0,class:"pagination"},le=["disabled"],re=["disabled"];function se(e,i,t,o,n,l){return(0,a.uX)(),(0,a.CE)("div",Z,[(0,a.Lk)("div",{class:(0,r.C4)(["grid-container",o.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visibleMovieGroups,((e,i)=>((0,a.uX)(),(0,a.CE)("div",{key:i,class:(0,r.C4)(["movie-row",{full:e.length===o.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onMouseup:i=>o.handleToggleWishlist(e)},[e.poster_path?((0,a.uX)(),(0,a.CE)("img",{key:0,src:o.getImageUrl(e.poster_path),alt:e.title},null,8,ie)):((0,a.uX)(),(0,a.CE)("div",te,"이미지 없음")),(0,a.Lk)("div",oe,(0,r.v_)(e.title),1),o.checkIsInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",ae,"👍")):(0,a.Q3)("",!0)],40,ee)))),128))],2)))),128))],2),o.totalPages>1?((0,a.uX)(),(0,a.CE)("div",ne,[(0,a.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===o.currentPage},"< 이전",8,le),(0,a.Lk)("span",null,(0,r.v_)(o.currentPage)+" / "+(0,r.v_)(o.totalPages),1),(0,a.Lk)("button",{onClick:i[1]||(i[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.currentPage===o.totalPages},"다음 >",8,re)])):(0,a.Q3)("",!0)],512)}t(8992),t(8872),t(4520),t(7550);const ue=(0,p.KR)([]);function ce(){const e=localStorage.getItem("movieWishlist");e&&(ue.value=JSON.parse(e))}function de(){localStorage.setItem("movieWishlist",JSON.stringify(ue.value))}function ve(e){const i=ue.value.findIndex((i=>i.id===e.id));-1===i?ue.value.push(e):ue.value=ue.value.filter((i=>i.id!==e.id)),de()}function ge(e){return ue.value.some((i=>i.id===e))}ce();var pe={name:"MovieGrid",props:{fetchUrl:{type:String,required:!0},apiKey:{type:String,required:!0}},setup(e){const i=(0,p.KR)([]),t=(0,p.KR)(1),o=(0,p.KR)(4),n=(0,p.KR)(20),l=(0,p.KR)("grid"),r=(0,p.KR)(null),s=(0,p.KR)(window.innerWidth<=768),u=async()=>{if(!e.apiKey)return alert("API Key가 설정되지 않았습니다. 설정을 확인해주세요."),void console.error("API Key is not defined.");try{const o=await x.A.get(e.fetchUrl,{params:{api_key:e.apiKey,language:"ko-KR",page:t.value}});i.value=o.data.results}catch(o){console.error("Error fetching movies:",o),alert("영화를 가져오는 중 오류가 발생했습니다. API Key와 URL을 확인하세요.")}},c=e=>`https://image.tmdb.org/t/p/w300${e}`,d=(0,a.EW)((()=>{const e=(t.value-1)*n.value,a=e+n.value,l=i.value.slice(e,a);return l.reduce(((e,i,t)=>{const a=Math.floor(t/o.value);return e[a]||(e[a]=[]),e[a].push(i),e}),[])})),v=(0,a.EW)((()=>Math.ceil(i.value.length/n.value))),g=()=>{t.value<v.value&&(t.value++,u())},m=()=>{t.value>1&&(t.value--,u())},k=e=>ve(e),h=e=>ge(e),f=()=>{s.value=window.innerWidth<=768};return(0,a.sV)((async()=>{await u(),window.addEventListener("resize",f)})),(0,a.hi)((()=>{window.removeEventListener("resize",f)})),{movies:i,currentPage:t,rowSize:o,moviesPerPage:n,currentView:l,gridContainer:r,visibleMovieGroups:d,totalPages:v,nextPage:g,prevPage:m,getImageUrl:c,handleToggleWishlist:k,checkIsInWishlist:h,isMobile:s}}};const me=(0,b.A)(pe,[["render",se],["__scopeId","data-v-2f7b648d"]]);var ke=me;const he={class:"movie-grid",ref:"gridContainer"},fe=["onMouseup"],we=["src","alt"],be={class:"movie-title"},Le={key:0,class:"wishlist-indicator"},ye={ref:"loadingTrigger",class:"loading-trigger"},Ce={key:0,class:"loading-indicator"},Ke={key:1,class:"no-movies-message"};function Me(e,i,t,o,n,l){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",he,[(0,a.Lk)("div",{class:(0,r.C4)(["grid-container",o.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visibleMovieGroups,((e,i)=>((0,a.uX)(),(0,a.CE)("div",{key:i,class:(0,r.C4)(["movie-row",{full:e.length===o.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onMouseup:i=>o.handleToggleWishlist(e)},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title,loading:"lazy"},null,8,we),(0,a.Lk)("div",be,(0,r.v_)(e.title),1),o.checkIsInWishlist(e.id)?((0,a.uX)(),(0,a.CE)("div",Le,"👍")):(0,a.Q3)("",!0)],40,fe)))),128))],2)))),128))],2),(0,a.Lk)("div",ye,[o.isLoading?((0,a.uX)(),(0,a.CE)("div",Ce,i[1]||(i[1]=[(0,a.Lk)("div",{class:"spinner"},null,-1),(0,a.Lk)("span",null,"로딩 중...",-1)]))):o.hasMore||0!==o.movies.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Ke,i[2]||(i[2]=[(0,a.Lk)("p",null,"해당 조건에 맞는 영화가 없습니다.",-1)])))],512),o.showTopButton?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:i[0]||(i[0]=(...e)=>o.scrollToTopAndReset&&o.scrollToTopAndReset(...e)),class:"top-button","aria-label":"맨 위로 이동"}," Top ")):(0,a.Q3)("",!0)],512)])}var Ee={name:"MovieInfiniteScroll",props:{genreCode:String,apiKey:String,sortingOrder:{type:String,default:"popularity.desc"},voteAverage:{type:Number,default:-1},language:{type:String,default:"all"}},setup(e){const i=(0,p.KR)([]),t=(0,p.KR)(1),o=(0,p.KR)(4),n=(0,p.KR)(!1),l=(0,p.KR)(window.innerWidth<=768),r=(0,p.KR)("grid"),s=(0,p.KR)(!0),u=(0,p.KR)(!1),c=(0,p.KR)(null),d=(0,p.KR)(null),v=(0,p.KR)(null),g=()=>{v.value=new IntersectionObserver((e=>{e[0].isIntersecting&&!n.value&&s.value&&m()}),{rootMargin:"100px",threshold:.1}),d.value&&v.value.observe(d.value)},m=async()=>{if(!n.value&&s.value){n.value=!0;try{const o={api_key:e.apiKey,language:"all"!==e.language?e.language:"ko-KR",page:t.value,with_genres:"0"!==e.genreCode?e.genreCode:void 0,sort_by:e.sortingOrder,"vote_average.gte":e.voteAverage>0?e.voteAverage:void 0},a=await x.A.get("https://api.themoviedb.org/3/discover/movie",{params:o}),n=a.data.results;n&&0!==n.length?(i.value=[...i.value,...n],t.value++):(1===t.value&&(i.value=[]),s.value=!1)}catch(o){console.error("Error fetching movies:",o)}finally{n.value=!1}}},k=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/assets/default-movie-poster.jpg",h=(0,a.EW)((()=>i.value.reduce(((e,i,t)=>{const a=Math.floor(t/o.value);return e[a]||(e[a]=[]),e[a].push(i),e}),[])));(0,a.wB)([()=>e.genreCode,()=>e.sortingOrder,()=>e.voteAverage,()=>e.language],(()=>{y()}));const f=()=>{l.value=window.innerWidth<=768,w()},w=()=>{if(c.value){const e=c.value.offsetWidth,i=l.value?100:300,t=l.value?10:15;o.value=Math.floor(e/(i+t))}},b=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;u.value=e>300},L=()=>{window.scrollTo({top:0,behavior:"smooth"})},y=()=>{i.value=[],t.value=1,s.value=!0,m()},C=e=>{ve(e)},K=e=>ge(e);return(0,a.sV)((()=>{g(),m(),f(),window.addEventListener("resize",f),window.addEventListener("scroll",b)})),(0,a.hi)((()=>{window.removeEventListener("resize",f),window.removeEventListener("scroll",b),v.value&&v.value.disconnect()})),{movies:i,currentPage:t,rowSize:o,isLoading:n,isMobile:l,currentView:r,hasMore:s,showTopButton:u,gridContainer:c,loadingTrigger:d,visibleMovieGroups:h,fetchMovies:m,getImageUrl:k,scrollToTopAndReset:L,handleToggleWishlist:C,checkIsInWishlist:K}}};const Ie=(0,b.A)(Ee,[["render",Me],["__scopeId","data-v-d70f7ab8"]]);var Re=Ie,_e={name:"HomePopular",components:{MovieGrid:ke,MovieInfiniteScroll:Re},setup(){const e=(0,p.KR)("grid"),i="b4dd7d0ce31fa1fb024fd2f2e48e4135",t=q(i),o=i=>{e.value=i};return{currentView:e,setView:o,fetchURL:t,apiKey:i}}};const Pe=(0,b.A)(_e,[["render",Y],["__scopeId","data-v-787f5dc6"]]);var Se=Pe;function Xe(e,i,t,o,n,l){const r=(0,a.g2)("MovieWishlist");return(0,a.uX)(),(0,a.Wv)(r)}const We={class:"movie-grid",ref:"gridContainer"},Oe=["onClick"],Ae=["src","alt"],Fe={class:"movie-title"},Ve={key:0,class:"empty-wishlist"},Te={key:1,class:"pagination"},Ue=["disabled"],je=["disabled"];function $e(e,i,t,o,n,l){return(0,a.uX)(),(0,a.CE)("div",We,[(0,a.Lk)("div",{class:(0,r.C4)(["grid-container",o.currentView])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.visibleWishlistMovies,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,r.C4)(["movie-row",{full:e.length===o.rowSize}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"movie-card",onClick:i=>o.toggleWishlist(e)},[(0,a.Lk)("img",{src:o.getImageUrl(e.poster_path),alt:e.title},null,8,Ae),(0,a.Lk)("div",Fe,(0,r.v_)(e.title),1),i[2]||(i[2]=(0,a.Lk)("div",{class:"wishlist-indicator"},"👍",-1))],8,Oe)))),128))],2)))),128))],2),0===o.wishlistMovies.length?((0,a.uX)(),(0,a.CE)("div",Ve," 위시리스트가 비어 있습니다. ")):(0,a.Q3)("",!0),o.totalPages>1?((0,a.uX)(),(0,a.CE)("div",Te,[(0,a.Lk)("button",{onClick:i[0]||(i[0]=(...e)=>o.prevPage&&o.prevPage(...e)),disabled:1===o.currentPage},"< 이전",8,Ue),(0,a.Lk)("span",null,(0,r.v_)(o.currentPage)+" / "+(0,r.v_)(o.totalPages),1),(0,a.Lk)("button",{onClick:i[1]||(i[1]=(...e)=>o.nextPage&&o.nextPage(...e)),disabled:o.currentPage===o.totalPages},"다음 >",8,je)])):(0,a.Q3)("",!0)],512)}var xe=t(3606),ze={name:"MovieWishlist",setup(){const e=(0,p.KR)(null),i=(0,p.KR)(4),t=(0,p.KR)(20),o=(0,p.KR)(1),n=(0,p.KR)(window.innerWidth<=768),l=(0,p.KR)("grid"),r=(0,p.KR)([]),s=(0,p.KR)([]);let u;const c=()=>{r.value=ue.value||[],v()},d=()=>{if(e.value){const o=e.value.offsetWidth,a=window.innerHeight-e.value.offsetTop,l=n.value?90:220,r=n.value?150:330,s=n.value?10:15,u=-10;i.value=Math.floor(o/(l+s));const c=Math.floor(a/(r+u));t.value=i.value*c,v()}},v=()=>{const e=(o.value-1)*t.value,a=e+t.value,n=r.value.slice(e,a);s.value=n.reduce(((e,t,o)=>{const a=Math.floor(o/i.value);return e[a]||(e[a]=[]),e[a].push(t),e}),[])},g=()=>{o.value<w.value&&(o.value++,v())},m=()=>{o.value>1&&(o.value--,v())},k=()=>{n.value=window.innerWidth<=768,d()},h=e=>{ue.value.includes(e)?ue.value=ue.value.filter((i=>i.id!==e.id)):ue.value.push(e),c()},f=e=>e?`https://image.tmdb.org/t/p/w300${e}`:"/placeholder-image.jpg",w=(0,p.KR)(0);return(0,a.nT)((()=>{w.value=Math.ceil(r.value.length/t.value)})),(0,a.sV)((()=>{c(),k(),window.addEventListener("resize",k),u=new xe.A((()=>d())),e.value&&u.observe(e.value)})),(0,a.hi)((()=>{window.removeEventListener("resize",k),e.value&&u.unobserve(e.value),u.disconnect()})),{gridContainer:e,rowSize:i,moviesPerPage:t,currentPage:o,isMobile:n,currentView:l,wishlistMovies:r,visibleWishlistMovies:s,totalPages:w,nextPage:g,prevPage:m,handleResize:k,toggleWishlist:h,getImageUrl:f}}};const qe=(0,b.A)(ze,[["render",$e],["__scopeId","data-v-4720f8aa"]]);var De=qe,He={name:"HomeWishlistComponent",components:{MovieWishlist:De}};const Qe=(0,b.A)(He,[["render",Xe],["__scopeId","data-v-4cf7d73c"]]);var Je=Qe;const Ge={class:"container-search"},Ne={class:"container-search-bar"},Be={class:"content-search"};function Ye(e,i,t,o,n,l){const r=(0,a.g2)("MovieSearch"),s=(0,a.g2)("MovieInfiniteScroll");return(0,a.uX)(),(0,a.CE)("div",Ge,[(0,a.Lk)("div",Ne,[(0,a.bF)(r,{onChangeOptions:o.changeOptions},null,8,["onChangeOptions"])]),(0,a.Lk)("div",Be,[(0,a.bF)(s,{apiKey:o.apiKey,genreCode:o.genreId,sortingOrder:o.sortId,voteEverage:o.ageId},null,8,["apiKey","genreCode","sortingOrder","voteEverage"])])])}const Ze={class:"dropdown-container"},ei=["onClick"],ii={class:"select-items"},ti=["onClick"];function oi(e,i,t,n,l,s){return(0,a.uX)(),(0,a.CE)("div",Ze,[i[1]||(i[1]=(0,a.Lk)("label",null,"선호하는 설정을 선택하세요",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.dropdownEntries,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.key,class:"custom-select"},[(0,a.Lk)("div",{class:"select-selected",onClick:i=>n.toggleDropdown(e.key)},(0,r.v_)(n.selectedOptions[e.key]),9,ei),(0,a.bo)((0,a.Lk)("div",ii,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.options,(i=>((0,a.uX)(),(0,a.CE)("div",{key:i,onClick:t=>n.selectOption(e.key,i)},(0,r.v_)(i),9,ti)))),128))],512),[[o.aG,n.activeDropdown===e.key]])])))),128)),(0,a.Lk)("button",{class:"clear-options",onClick:i[0]||(i[0]=(...e)=>n.clearOptions&&n.clearOptions(...e))},"초기화")])}t(1454);var ai={name:"MovieSearch",emits:["changeOptions"],setup(e,{emit:i}){const t={originalLanguage:["장르 (전체)","Action","Adventure","Comedy","Crime","Family"],translationLanguage:["평점 (전체)","9~10","8~9","7~8","6~7","5~6","4~5","4점 이하"],sorting:["언어 (전체)","영어","한국어"]},o={originalLanguage:"장르 (전체)",translationLanguage:"평점 (전체)",sorting:"언어 (전체)"},n=(0,p.KR)({...o}),l=(0,p.KR)(null),r=(0,a.EW)((()=>Object.entries(t).map((([e,i])=>({key:e,options:i}))))),s=e=>{l.value=l.value===e?null:e},u=(e,t)=>{n.value={...n.value,[e]:t},l.value=null,i("changeOptions",n.value)},c=()=>{n.value={...o},i("changeOptions",n.value)};return{selectedOptions:n,activeDropdown:l,dropdownEntries:r,toggleDropdown:s,selectOption:u,clearOptions:c}}};const ni=(0,b.A)(ai,[["render",oi],["__scopeId","data-v-7e770fc9"]]);var li=ni,ri={name:"HomeSearch",components:{MovieSearch:li,MovieInfiniteScroll:Re},setup(){const e=(0,p.KR)("b4dd7d0ce31fa1fb024fd2f2e48e4135"),i=(0,p.KR)("28"),t=(0,p.KR)(-1),o=(0,p.KR)("all"),a={"장르 (전체)":0,Action:28,Adventure:12,Comedy:35,Crime:80,Family:10751},n={"언어 (전체)":"all","영어":"en","한국어":"ko"},l={"평점 (전체)":-1,"9~10":9,"8~9":8,"7~8":7,"6~7":6,"5~6":5,"4~5":4,"4점 이하":-2},r=e=>{i.value=`${a[e.originalLanguage]}`,t.value=l[e.translationLanguage],o.value=n[e.sorting]};return{apiKey:e,genreId:i,ageId:t,sortId:o,changeOptions:r}}};const si=(0,b.A)(ri,[["render",Ye],["__scopeId","data-v-92d6f798"]]);var ui=si;const ci={class:"sign-in"},di={class:"container"},vi={id:"phone"},gi={id:"content-wrapper"},pi=["disabled"],mi={class:"input"},ki={class:"input"},hi={class:"input"},fi=["disabled"];function wi(e,i,t,n,l,s){return(0,a.uX)(),(0,a.CE)("div",ci,[i[22]||(i[22]=(0,a.Lk)("div",{class:"bg-image"},null,-1)),(0,a.Lk)("div",di,[(0,a.Lk)("div",vi,[(0,a.Lk)("div",gi,[(0,a.Lk)("div",{class:(0,r.C4)(["card",{hidden:!n.isLoginVisible}]),id:"login"},[(0,a.Lk)("form",{onSubmit:i[6]||(i[6]=(0,o.D$)(((...e)=>n.handleLogin&&n.handleLogin(...e)),["prevent"]))},[i[15]||(i[15]=(0,a.Lk)("h1",null,"Sign in",-1)),(0,a.Lk)("div",{class:(0,r.C4)(["input",{active:n.isEmailFocused||n.email}])},[(0,a.bo)((0,a.Lk)("input",{id:"email",type:"email","onUpdate:modelValue":i[0]||(i[0]=e=>n.email=e),onFocus:i[1]||(i[1]=e=>n.focusInput("email")),onBlur:i[2]||(i[2]=e=>n.blurInput("email")),required:""},null,544),[[o.Jo,n.email]]),i[13]||(i[13]=(0,a.Lk)("label",{for:"email"},"Username or Email",-1))],2),(0,a.Lk)("div",{class:(0,r.C4)(["input",{active:n.isPasswordFocused||n.password}])},[(0,a.bo)((0,a.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":i[3]||(i[3]=e=>n.password=e),onFocus:i[4]||(i[4]=e=>n.focusInput("password")),onBlur:i[5]||(i[5]=e=>n.blurInput("password")),required:""},null,544),[[o.Jo,n.password]]),i[14]||(i[14]=(0,a.Lk)("label",{for:"password"},"Password",-1))],2),(0,a.Lk)("button",{disabled:!n.isLoginFormValid},"Login",8,pi)],32),(0,a.Lk)("a",{href:"javascript:void(0)",class:"account-check",onClick:i[7]||(i[7]=(...e)=>n.toggleCard&&n.toggleCard(...e))},i[16]||(i[16]=[(0,a.eW)(" Don't have an account? "),(0,a.Lk)("b",null,"Sign up",-1)]))],2),(0,a.Lk)("div",{class:(0,r.C4)(["card",{hidden:n.isLoginVisible}]),id:"register"},[(0,a.Lk)("form",{onSubmit:i[11]||(i[11]=(0,o.D$)(((...e)=>n.handleRegister&&n.handleRegister(...e)),["prevent"]))},[i[20]||(i[20]=(0,a.Lk)("h1",null,"Sign up",-1)),(0,a.Lk)("div",mi,[(0,a.bo)((0,a.Lk)("input",{id:"register-email",type:"email","onUpdate:modelValue":i[8]||(i[8]=e=>n.registerEmail=e),required:""},null,512),[[o.Jo,n.registerEmail]]),i[17]||(i[17]=(0,a.Lk)("label",{for:"register-email"},"Email",-1))]),(0,a.Lk)("div",ki,[(0,a.bo)((0,a.Lk)("input",{id:"register-password",type:"password","onUpdate:modelValue":i[9]||(i[9]=e=>n.registerPassword=e),required:""},null,512),[[o.Jo,n.registerPassword]]),i[18]||(i[18]=(0,a.Lk)("label",{for:"register-password"},"Password",-1))]),(0,a.Lk)("div",hi,[(0,a.bo)((0,a.Lk)("input",{id:"confirm-password",type:"password","onUpdate:modelValue":i[10]||(i[10]=e=>n.confirmPassword=e),required:""},null,512),[[o.Jo,n.confirmPassword]]),i[19]||(i[19]=(0,a.Lk)("label",{for:"confirm-password"},"Confirm Password",-1))]),(0,a.Lk)("button",{disabled:!n.isRegisterFormValid},"Register",8,fi)],32),(0,a.Lk)("a",{href:"javascript:void(0)",id:"gotologin",class:"account-check",onClick:i[12]||(i[12]=(...e)=>n.toggleCard&&n.toggleCard(...e))},i[21]||(i[21]=[(0,a.eW)(" Already have an account? "),(0,a.Lk)("b",null,"Sign in",-1)]))],2)])])])])}t(2577);const bi={users:JSON.parse(localStorage.getItem("users"))||[],tryLogin(e,i){return new Promise(((t,o)=>{const a=this.users.find((t=>t.email===e&&t.password===i));a?(localStorage.setItem("TMDb-Key",a.apiKey),t({message:"로그인 성공",apiKey:a.apiKey})):o(new Error("아이디 또는 비밀번호가 잘못되었습니다."))}))},tryRegister(e,i){return new Promise(((t,o)=>{if(this.users.some((i=>i.email===e)))o(new Error("이미 존재하는 아이디입니다."));else{const o=`key-${Math.random().toString(36).substr(2,16)}`,a={email:e,password:i,apiKey:o};this.users.push(a),localStorage.setItem("users",JSON.stringify(this.users)),t({message:"회원가입 성공",apiKey:o})}}))}};var Li=bi,yi={name:"SignIn",setup(){const e=(0,m.rd)(),i=(0,p.KR)(!0),t=(0,p.KR)(""),o=(0,p.KR)(""),n=(0,p.KR)(""),l=(0,p.KR)(""),r=(0,p.KR)(""),s=(0,p.KR)(!1),u=(0,p.KR)(!1),c=(0,a.EW)((()=>t.value&&o.value)),d=(0,a.EW)((()=>n.value&&l.value&&r.value&&l.value===r.value)),v=async()=>{try{const i=await Li.tryLogin(t.value,o.value);if(!i||!i.apiKey)throw new Error("API 키가 반환되지 않았습니다.");localStorage.setItem("TMDb-Key",i.apiKey),console.log("로그인 성공, 저장된 API 키:",i.apiKey),alert("로그인 성공!"),e.push("/main")}catch(i){alert("로그인 실패: "+i.message),console.error(i)}},g=async()=>{try{const e=await Li.tryRegister(n.value,l.value);alert(e),i.value=!0}catch(e){alert("회원가입 실패: "+e.message),console.error(e)}},k=()=>{i.value=!i.value},h=e=>{"email"===e&&(s.value=!0),"password"===e&&(u.value=!0)},f=e=>{"email"===e&&(s.value=!1),"password"===e&&(u.value=!1)};return{isLoginVisible:i,email:t,password:o,registerEmail:n,registerPassword:l,confirmPassword:r,isEmailFocused:s,isPasswordFocused:u,isLoginFormValid:c,isRegisterFormValid:d,handleLogin:v,handleRegister:g,toggleCard:k,focusInput:h,blurInput:f}}};const Ci=(0,b.A)(yi,[["render",wi],["__scopeId","data-v-4ae6409d"]]);var Ki=Ci;const Mi=()=>!!localStorage.getItem("TMDb-Key"),Ei=[{path:"/",redirect:"/main"},{path:"/main",name:"HomeMain",component:G,meta:{requiresAuth:!0}},{path:"/popular",name:"HomePopular",component:Se,meta:{requiresAuth:!0}},{path:"/wishlist",name:"HomeWishlist",component:Je,meta:{requiresAuth:!0}},{path:"/search",name:"HomeSearch",component:ui,meta:{requiresAuth:!0}},{path:"/sign-in",name:"SignIn",component:Ki}],Ii=(0,m.aE)({history:(0,m.LA)(),routes:Ei});Ii.beforeEach(((e,i,t)=>{e.meta.requiresAuth&&!Mi()?t({path:"/sign-in",query:{redirect:e.fullPath}}):t()}));var Ri=Ii,_i=t(7411);t(7917);const Pi=(0,o.Ef)(M);Pi.use(Ri),Pi.use(_i.Ay),Pi.mount("#app")}},i={};function t(o){var a=i[o];if(void 0!==a)return a.exports;var n=i[o]={exports:{}};return e[o].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(i,o,a,n){if(!o){var l=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],n=e[c][2];for(var r=!0,s=0;s<o.length;s++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[s])}))?o.splice(s--,1):(r=!1,n<l&&(l=n));if(r){e.splice(c--,1);var u=a();void 0!==u&&(i=u)}}return i}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,a,n]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){t.d=function(e,i){for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(i){return 0===e[i]};var i=function(i,o){var a,n,l=o[0],r=o[1],s=o[2],u=0;if(l.some((function(i){return 0!==e[i]}))){for(a in r)t.o(r,a)&&(t.m[a]=r[a]);if(s)var c=s(t)}for(i&&i(o);u<l.length;u++)n=l[u],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},o=self["webpackChunkmy_vue_project"]=self["webpackChunkmy_vue_project"]||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(8392)}));o=t.O(o)})();
//# sourceMappingURL=app.267fbe74.js.map